---
phase: 04-execution-validation-troubleshooting
plan: 02
type: execute
wave: 2
depends_on: [01]
files_modified:
  - docs/ntstatus-troubleshooting.md
  - README.md
autonomous: true
requirements: [DOCS-02]
must_haves:
  truths:
    - Dominant NTSTATUS and stage-level failure classes map to likely causes and immediate next actions.
    - Troubleshooting guidance is action-first and concise, with one-line cause and remediation flow.
    - README contains quick troubleshooting guidance and links to full failure-class details.
  artifacts:
    - docs/ntstatus-troubleshooting.md
    - README.md
  key_links:
    - `README.md` troubleshooting section links to `docs/ntstatus-troubleshooting.md` and preserves the same failure-class terminology.
---

<objective>
Build troubleshooting guidance for dominant execution failure classes.

Purpose: satisfy DOCS-02 by mapping common NTSTATUS/runtime failure surfaces to immediate operator actions.
Output: a focused troubleshooting guide with quick README lookup path.
</objective>

<execution_context>
@/Users/maleick/.codex/get-shit-done/workflows/execute-plan.md
@/Users/maleick/.codex/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/REQUIREMENTS.md
@.planning/STATE.md
@.planning/phases/04-execution-validation-troubleshooting/04-CONTEXT.md
@.planning/phases/04-execution-validation-troubleshooting/04-RESEARCH.md
@README.md
@Src/Bof.c
@BOF_spawn.cna
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create dominant NTSTATUS troubleshooting guide</name>
  <files>docs/ntstatus-troubleshooting.md</files>
  <action>Create a troubleshooting table that maps dominant failure classes from current BOF/CNA behavior to likely causes and immediate next actions. Include precondition failures, parent process failures, gadget/callback resolution failures, and common syscall-stage failures.</action>
  <verify><automated>rg -n 'STATUS_INVALID_PARAMETER|STATUS_INVALID_PARAMETER_2|STATUS_DATA_ERROR|STATUS_PROCEDURE_NOT_FOUND|STATUS_INSUFFICIENT_RESOURCES|NtCreateUserProcess|NtGetContextThread|NtSetContextThread|NtResumeProcess' docs/ntstatus-troubleshooting.md</automated></verify>
  <done>Guide covers the dominant failure classes operators are most likely to encounter.</done>
</task>

<task type="auto">
  <name>Task 2: Add concise cause-to-next-step triage flow</name>
  <files>docs/ntstatus-troubleshooting.md</files>
  <action>Add an action-first triage flow that starts from observed error surface and routes to immediate next checks/actions, including fail-closed fallback for unknown NTSTATUS values.</action>
  <verify><automated>rg -n 'next step|triage flow|unknown NTSTATUS|fail-closed|baseline method' docs/ntstatus-troubleshooting.md</automated></verify>
  <done>Troubleshooting flow is concise, deterministic, and suitable for rapid operator use.</done>
</task>

<task type="auto">
  <name>Task 3: Update README quick troubleshooting section</name>
  <files>README.md</files>
  <action>Add a compact troubleshooting section in README summarizing dominant failure classes and linking to the full troubleshooting guide, while preserving concise operator wording.</action>
  <verify><automated>rg -n 'Troubleshooting|NTSTATUS|ntstatus-troubleshooting|next step|callback blocked|invalid execution method' README.md</automated></verify>
  <done>README provides fast first-line troubleshooting guidance with clear path to full details.</done>
</task>

</tasks>

<verification>
- DOCS-02 is represented in frontmatter and fully covered by tasks.
- Troubleshooting guidance maps dominant failure classes to immediate actions.
- README includes quick lookup guidance and links to full troubleshooting details.
</verification>

<success_criteria>
- [ ] DOCS-02 implemented completely.
- [ ] Dominant failure classes documented with cause and immediate next action.
- [ ] README includes concise troubleshooting guidance and links to full guide.
</success_criteria>

<output>
After completion, create .planning/phases/04-execution-validation-troubleshooting/04-02-SUMMARY.md.
</output>
